{"version":3,"sources":["test.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,SAAS,QAAQ,IAAR,CAAb;;AAEA,KAAK,uBAAL,EAA8B,UAAS,CAAT,EAAY;AACxC,MAAI,KAAK,SACN,mBADM,EAEJ,eAFI,EAEa,EAFb,EAGN,GAHM,CAAT;;AAKA,IAAE,IAAF,CAAO,GAAG,QAAH,EAAP,EAAsB,uCAAtB,EAA+D,kBAA/D;AACA,IAAE,IAAF,CAAO,GAAG,UAAH,GAAgB,EAAhB,CAAP,EAA4B,EAA5B,EAAgC,gBAAhC;AACA,IAAE,GAAF;AACD,CATD;;AAWA,KAAK,sCAAL,EAA6C,UAAS,CAAT,EAAY;AACvD,MAAI,KAAK,SACN,mBADM,EAEJ,wBAFI,EAEsB,EAFtB,EAGN,GAHM,CAAT;;AAKA,MAAI,UAAU,GAAG,UAAH,EAAd;AACA,MAAI,OAAO,GAAG,UAAH,CAAc,EAAC,QAAO,EAAR,EAAd,CAAX;;AAEA,MAAI;AACF,YAAQ,EAAR;AACA,MAAE,EAAF,CAAK,KAAL,EAAY,0BAAZ;AACD,GAHD,CAGE,OAAO,GAAP,EAAY;AACZ,MAAE,IAAF,CAAO,IAAI,OAAX,EAAoB,uBAApB,EAA6C,wBAA7C;AACD;;AAED,IAAE,IAAF,CAAO,KAAK,EAAL,CAAP,EAAiB,EAAjB,EAAqB,gCAArB;AACA,IAAE,GAAF;AACD,CAlBD","file":"test-compiled.js","sourcesContent":["var tape = require('tape')\nvar genfun = require('./')\n\ntape('generate add function', function(t) {\n  var fn = genfun()\n    ('function add(n) {')\n      ('return n + %d', 42)\n    ('}')\n\n  t.same(fn.toString(), 'function add(n) {\\n  return n + 42\\n}', 'code is indented')\n  t.same(fn.toFunction()(10), 52, 'function works')\n  t.end()\n})\n\ntape('generate function + closed variables', function(t) {\n  var fn = genfun()\n    ('function add(n) {')\n      ('return n + %d + number', 42)\n    ('}')\n\n  var notGood = fn.toFunction()\n  var good = fn.toFunction({number:10})\n\n  try {\n    notGood(10)\n    t.ok(false, 'function should not work')\n  } catch (err) {\n    t.same(err.message, 'number is not defined', 'throws reference error')\n  }\n\n  t.same(good(11), 63, 'function with closed var works')\n  t.end()\n})"]}