{"version":3,"sources":["xml2js.js"],"names":[],"mappings":"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","file":"xml2js-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.10.0\n(function() {\n  \"use strict\";\n  var bom, builder, escapeCDATA, events, isEmpty, processName, processors, requiresCDATA, sax, setImmediate, wrapCDATA,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  requiresCDATA = function(entry) {\n    return entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0;\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = exports.defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = exports.defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err, error1;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processName(_this.options.attrValueProcessors, node.attributes[key]) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, error1, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processName(_this.options.valueProcessors, obj[charkey]) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (error1) {\n              err = error1;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err, error1;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n"]}